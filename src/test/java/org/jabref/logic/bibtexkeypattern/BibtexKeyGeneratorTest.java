begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_package
DECL|package|org.jabref.logic.bibtexkeypattern
package|package
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|bibtexkeypattern
package|;
end_package

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Optional
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|importer
operator|.
name|ImportFormatPreferences
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|importer
operator|.
name|ParseException
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|importer
operator|.
name|fileformat
operator|.
name|BibtexParser
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|database
operator|.
name|BibDatabase
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|entry
operator|.
name|BibEntry
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|entry
operator|.
name|FieldName
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|util
operator|.
name|DummyFileUpdateMonitor
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|util
operator|.
name|FileUpdateMonitor
import|;
end_import

begin_import
import|import
name|org
operator|.
name|junit
operator|.
name|jupiter
operator|.
name|api
operator|.
name|BeforeEach
import|;
end_import

begin_import
import|import
name|org
operator|.
name|junit
operator|.
name|jupiter
operator|.
name|api
operator|.
name|Test
import|;
end_import

begin_import
import|import
name|org
operator|.
name|mockito
operator|.
name|Answers
import|;
end_import

begin_import
import|import static
name|org
operator|.
name|junit
operator|.
name|jupiter
operator|.
name|api
operator|.
name|Assertions
operator|.
name|assertEquals
import|;
end_import

begin_import
import|import static
name|org
operator|.
name|junit
operator|.
name|jupiter
operator|.
name|api
operator|.
name|Assertions
operator|.
name|assertThrows
import|;
end_import

begin_import
import|import static
name|org
operator|.
name|mockito
operator|.
name|Mockito
operator|.
name|mock
import|;
end_import

begin_class
DECL|class|BibtexKeyGeneratorTest
specifier|public
class|class
name|BibtexKeyGeneratorTest
block|{
DECL|field|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
init|=
literal|"Isaac Newton"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
init|=
literal|"Isaac Newton and James Maxwell"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_3
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_3
init|=
literal|"Isaac Newton and James Maxwell and Albert Einstein"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
init|=
literal|"Wil van der Aalst"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
init|=
literal|"Wil van der Aalst and Tammo van Lessen"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
init|=
literal|"I. Newton"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
init|=
literal|"I. Newton and J. Maxwell"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
init|=
literal|"I. Newton and J. Maxwell and A. Einstein"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
init|=
literal|"I. Newton and J. Maxwell and A. Einstein and N. Bohr"
decl_stmt|;
DECL|field|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
specifier|private
specifier|static
specifier|final
name|String
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
init|=
literal|"I. Newton and J. Maxwell and A. Einstein and N. Bohr and Harry Unknown"
decl_stmt|;
DECL|field|TITLE_STRING_ALL_LOWER_FOUR_SMALL_WORDS_ONE_EN_DASH
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_ALL_LOWER_FOUR_SMALL_WORDS_ONE_EN_DASH
init|=
literal|"application migration effort in the cloud - the case of cloud platforms"
decl_stmt|;
DECL|field|TITLE_STRING_ALL_LOWER_FIRST_WORD_IN_BRACKETS_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_ALL_LOWER_FIRST_WORD_IN_BRACKETS_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
init|=
literal|"{BPEL} conformance in open source engines: the case of static analysis"
decl_stmt|;
DECL|field|TITLE_STRING_CASED
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_CASED
init|=
literal|"Process Viewing Patterns"
decl_stmt|;
DECL|field|TITLE_STRING_CASED_ONE_UPPER_WORD_ONE_SMALL_WORD
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_CASED_ONE_UPPER_WORD_ONE_SMALL_WORD
init|=
literal|"BPMN Conformance in Open Source Engines"
decl_stmt|;
DECL|field|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AT_THE_BEGINNING
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AT_THE_BEGINNING
init|=
literal|"The Difference Between Graph-Based and Block-Structured Business Process Modelling Languages"
decl_stmt|;
DECL|field|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
init|=
literal|"Cloud Computing: The Next Revolution in IT"
decl_stmt|;
DECL|field|TITLE_STRING_CASED_TWO_SMALL_WORDS_ONE_CONNECTED_WORD
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_ONE_CONNECTED_WORD
init|=
literal|"Towards Choreography-based Process Distribution in the Cloud"
decl_stmt|;
DECL|field|TITLE_STRING_CASED_FOUR_SMALL_WORDS_TWO_CONNECTED_WORDS
specifier|private
specifier|static
specifier|final
name|String
name|TITLE_STRING_CASED_FOUR_SMALL_WORDS_TWO_CONNECTED_WORDS
init|=
literal|"On the Measurement of Design-Time Adaptability for Process-Based Systems "
decl_stmt|;
DECL|field|importFormatPreferences
specifier|private
specifier|static
name|ImportFormatPreferences
name|importFormatPreferences
decl_stmt|;
DECL|field|fileMonitor
specifier|private
specifier|final
name|FileUpdateMonitor
name|fileMonitor
init|=
operator|new
name|DummyFileUpdateMonitor
argument_list|()
decl_stmt|;
annotation|@
name|BeforeEach
DECL|method|setUp ()
specifier|public
name|void
name|setUp
parameter_list|()
block|{
name|importFormatPreferences
operator|=
name|mock
argument_list|(
name|ImportFormatPreferences
operator|.
name|class
argument_list|,
name|Answers
operator|.
name|RETURNS_DEEP_STUBS
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAndInAuthorName ()
specifier|public
name|void
name|testAndInAuthorName
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry0
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Simon Holland}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"Holland"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testCrossrefAndInAuthorNames ()
specifier|public
name|void
name|testCrossrefAndInAuthorNames
parameter_list|()
throws|throws
name|Exception
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|AUTHOR
argument_list|,
literal|"Simon Holland"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Holland"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"auth"
argument_list|,
name|database
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAndAuthorNames ()
specifier|public
name|void
name|testAndAuthorNames
parameter_list|()
throws|throws
name|ParseException
block|{
name|String
name|bibtexString
init|=
literal|"@ARTICLE{whatevery, author={Mari D. Herland and Mona-Iren Hauge and Ingeborg M. Helgeland}}"
decl_stmt|;
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
name|bibtexString
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"HerlandHaugeHelgeland"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
operator|.
name|get
argument_list|()
argument_list|,
literal|"authors3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testCrossrefAndAuthorNames ()
specifier|public
name|void
name|testCrossrefAndAuthorNames
parameter_list|()
throws|throws
name|Exception
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|AUTHOR
argument_list|,
literal|"Mari D. Herland and Mona-Iren Hauge and Ingeborg M. Helgeland"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"HerlandHaugeHelgeland"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"authors3"
argument_list|,
name|database
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testSpecialLatexCharacterInAuthorName ()
specifier|public
name|void
name|testSpecialLatexCharacterInAuthorName
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Simon Popovi\\v{c}ov\\'{a}}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"Popovicova"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Test for https://sourceforge.net/forum/message.php?msg_id=4498555 Test the Labelmaker and all kind of accents Ã Ã¡      * Ä Ä Ã Ã© Ã Ã­ Ä¹ Äº Å Å Ã Ã³ Å Å Å Å Ã Ãº Ã Ã½ Å¹ Åº      */
annotation|@
name|Test
DECL|method|testMakeLabelAndCheckLegalKeys ()
specifier|public
name|void
name|testMakeLabelAndCheckLegalKeys
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry0
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas KÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"Koe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Aoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Eoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Ioe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas Ä¹Ã¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Loe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÅÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Noe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Ooe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÅÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Roe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÅÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Soe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Uoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Yoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas Å¹Ã¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Zoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Test the Labelmaker and with accent grave Chars to test: "ÃÃÃÃÃ";      */
annotation|@
name|Test
DECL|method|testMakeLabelAndCheckLegalKeysAccentGrave ()
specifier|public
name|void
name|testMakeLabelAndCheckLegalKeysAccentGrave
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry0
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"Aoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Eoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Ioe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Ooe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Andreas ÃÃ¶ning}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Uoe"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={Oraib Al-Ketan}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"AlK"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|entry0
operator|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={AndrÃ©s D'Alessandro}, year={2000}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"DAl"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry0
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth3"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests if checkLegalKey replaces Non-ASCII chars. There are quite a few chars that should be replaced. Perhaps      * there is a better method than the current.      *      * @see BibtexKeyGenerator#checkLegalKey(String)      */
annotation|@
name|Test
DECL|method|testCheckLegalKey ()
specifier|public
name|void
name|testCheckLegalKey
parameter_list|()
block|{
comment|// not tested/ not in hashmap UNICODE_CHARS:
comment|// Å Å   Å Å Å° Å±   Ä¿ Å   Ä¦ Ä§   Ã Ã° Ã Ã¾   Å Å   Ã Ã¦ Ã Ã¸ Ã Ã¥   Æ É Ä Ä   Å® Å¯	Ç¢ Ç£ Ç Ç Ç Ç
comment|//" Ç¢ Ç£ Ç Ç Ç Ç   " +
comment|//"Ä Ä   Å® Å¯  " +
comment|//"Å Å   Å Å Å° Å±   Ä¿ Å   Ä¦ Ä§   Ã Ã° Ã Ã¾   Å Å   Ã Ã¦ Ã Ã¸ Ã Ã¥   Æ É
name|String
name|accents
init|=
literal|"ÃÃ ÃÃ¨ÃÃ¬ÃÃ²ÃÃ¹ Ã Ã¢ Ä Ä Ã Ãª Ä Ä Ä¤ Ä¥ Ã Ã® Ä´ Äµ Ã Ã´ Å Å Ã Ã» Å´ Åµ Å¶ Å·"
decl_stmt|;
name|String
name|expectedResult
init|=
literal|"AaEeIiOoUuAaCcEeGgHhIiJjOoSsUuWwYy"
decl_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"ÃÃ¤ÃÃ«ÃÃ¯ÃÃ¶ÃÃ¼Å¸Ã¿"
expr_stmt|;
name|expectedResult
operator|=
literal|"AeaeEeIiOeoeUeueYy"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"Ã Ã§ Ä¢ Ä£ Ä¶ Ä· Ä» Ä¼ Å Å Å Å Å Å Å¢ Å£"
expr_stmt|;
name|expectedResult
operator|=
literal|"CcGgKkLlNnRrSsTt"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"Ä Ä Ä Ä Ä Ä Ä¬ Ä­ Å Å Å¬ Å­"
expr_stmt|;
name|expectedResult
operator|=
literal|"AaEeGgIiOoUu"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"Ä Ä Ä Ä Ä  Ä¡ Ä° Ä± Å» Å¼"
expr_stmt|;
name|expectedResult
operator|=
literal|"CcEeGgIiZz"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"Ä Ä Ä Ä Ä® Ä¯ Çª Ç« Å² Å³"
expr_stmt|;
name|expectedResult
operator|=
literal|"AaEeIiOoUu"
expr_stmt|;
comment|// O or Q? o or q?
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"Ä Ä Ä Ä Äª Ä« Å Å Åª Å« È² È³"
expr_stmt|;
name|expectedResult
operator|=
literal|"AaEeIiOoUuYy"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"Ç Ç Ä Ä Ä Ä Ä Ä Ç Ç Ä½ Ä¾ Å Å Ç Ç Å Å Å  Å¡ Å¤ Å¥ Ç Ç Å½ Å¾"
expr_stmt|;
name|expectedResult
operator|=
literal|"AaCcDdEeIiLlNnOoRrSsTtUuZz"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|expectedResult
operator|=
literal|"AaEeIiNnOoUuYy"
expr_stmt|;
name|accents
operator|=
literal|"ÃÃ£áº¼áº½Ä¨Ä©ÃÃ±ÃÃµÅ¨Å©á»¸á»¹"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|accents
operator|=
literal|"á¸ á¸ á¸¤ á¸¥ á¸¶ á¸· á¸¸ á¸¹ á¹ á¹ á¹ á¹ á¹ á¹ á¹ á¹ á¹¢ á¹£ á¹¬ á¹­"
expr_stmt|;
name|expectedResult
operator|=
literal|"DdHhLlLlMmNnRrRrSsTt"
expr_stmt|;
name|assertEquals
argument_list|(
name|expectedResult
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|accents
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|String
name|totest
init|=
literal|"Ã Ã  Ã Ã¨ Ã Ã¬ Ã Ã² Ã Ã¹   Ã Ã¢ Ä Ä Ã Ãª Ä Ä Ä¤ Ä¥ Ã Ã® Ä´ Äµ Ã Ã´ Å Å Ã Ã» Å´ Åµ Å¶ Å·  Ã Ã¤ Ã Ã« Ã Ã¯ Ã Ã¶ Ã Ã¼ Å¸ Ã¿    "
operator|+
literal|"Ã Ã£ áº¼ áº½ Ä¨ Ä© Ã Ã± Ã Ãµ Å¨ Å© á»¸ á»¹   Ã Ã§ Ä¢ Ä£ Ä¶ Ä· Ä» Ä¼ Å Å Å Å Å Å Å¢ Å£"
operator|+
literal|" Ç Ç Ä Ä Ä Ä Ä Ä Ç Ç Ä½ Ä¾ Å Å Ç Ç Å Å Å  Å¡ Å¤ Å¥ Ç Ç Å½ Å¾   "
operator|+
literal|"Ä Ä Ä Ä Äª Ä« Å Å Åª Å« È² È³"
operator|+
literal|"Ä Ä Ä Ä Ä Ä Ä¬ Ä­ Å Å Å¬ Å­   "
operator|+
literal|"Ä Ä Ä Ä Ä  Ä¡ Ä° Ä± Å» Å¼   Ä Ä Ä Ä Ä® Ä¯ Çª Ç« Å² Å³   "
operator|+
literal|"á¸ á¸ á¸¤ á¸¥ á¸¶ á¸· á¸¸ á¸¹ á¹ á¹ á¹ á¹ á¹ á¹ á¹ á¹ á¹¢ á¹£ á¹¬ á¹­   "
decl_stmt|;
name|String
name|expectedResults
init|=
literal|"AaEeIiOoUuAaCcEeGgHhIiJjOoSsUuWwYyAeaeEeIiOeoeUeueYy"
operator|+
literal|"AaEeIiNnOoUuYyCcGgKkLlNnRrSsTt"
operator|+
literal|"AaCcDdEeIiLlNnOoRrSsTtUuZz"
operator|+
literal|"AaEeIiOoUuYy"
operator|+
literal|"AaEeGgIiOoUu"
operator|+
literal|"CcEeGgIiZzAaEeIiOoUu"
operator|+
literal|"DdHhLlLlMmNnRrRrSsTt"
decl_stmt|;
name|assertEquals
argument_list|(
name|expectedResults
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|totest
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testFirstAuthor ()
specifier|public
name|void
name|testFirstAuthor
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
comment|// https://sourceforge.net/forum/message.php?msg_id=4498555
name|assertEquals
argument_list|(
literal|"K{\\\"o}ning"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthor
argument_list|(
literal|"K{\\\"o}ning"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthor
argument_list|(
literal|""
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testFirstAuthorNull ()
specifier|public
name|void
name|testFirstAuthorNull
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|firstAuthor
argument_list|(
literal|null
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testUniversity ()
specifier|public
name|void
name|testUniversity
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={{Link{\\\"{o}}ping University}}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"UniLinkoeping"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testcrossrefUniversity ()
specifier|public
name|void
name|testcrossrefUniversity
parameter_list|()
throws|throws
name|Exception
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|AUTHOR
argument_list|,
literal|"{Link{\\\"{o}}ping University}}"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"UniLinkoeping"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"auth"
argument_list|,
name|database
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testDepartment ()
specifier|public
name|void
name|testDepartment
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={{Link{\\\"{o}}ping University, Department of Electrical Engineering}}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"UniLinkoepingEE"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testcrossrefDepartment ()
specifier|public
name|void
name|testcrossrefDepartment
parameter_list|()
throws|throws
name|Exception
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|AUTHOR
argument_list|,
literal|"{Link{\\\"{o}}ping University, Department of Electrical Engineering}}"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"UniLinkoepingEE"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"auth"
argument_list|,
name|database
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testSchool ()
specifier|public
name|void
name|testSchool
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={{Link{\\\"{o}}ping University, School of Computer Engineering}}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"UniLinkoepingCE"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testcrossrefSchool ()
specifier|public
name|void
name|testcrossrefSchool
parameter_list|()
throws|throws
name|Exception
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|AUTHOR
argument_list|,
literal|"{Link{\\\"{o}}ping University, School of Computer Engineering}}"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"UniLinkoepingCE"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"auth"
argument_list|,
name|database
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testInstituteOfTechnology ()
specifier|public
name|void
name|testInstituteOfTechnology
parameter_list|()
throws|throws
name|ParseException
block|{
name|Optional
argument_list|<
name|BibEntry
argument_list|>
name|entry
init|=
name|BibtexParser
operator|.
name|singleFromString
argument_list|(
literal|"@ARTICLE{kohn, author={{Massachusetts Institute of Technology}}}"
argument_list|,
name|importFormatPreferences
argument_list|,
name|fileMonitor
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"MIT"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
operator|.
name|get
argument_list|()
argument_list|,
literal|"auth"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testcrossrefInstituteOfTechnology ()
specifier|public
name|void
name|testcrossrefInstituteOfTechnology
parameter_list|()
throws|throws
name|Exception
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|AUTHOR
argument_list|,
literal|"{Massachusetts Institute of Technology}"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"MIT"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"auth"
argument_list|,
name|database
argument_list|)
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAuthIniN ()
specifier|public
name|void
name|testAuthIniN
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"NMEB"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NMEB"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NeME"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NeMa"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newt"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
literal|""
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"N"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
operator|-
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|6
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|7
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAuthIniNNull ()
specifier|public
name|void
name|testAuthIniNNull
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
literal|null
argument_list|,
literal|3
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAuthIniNEmptyReturnsEmpty ()
specifier|public
name|void
name|testAuthIniNEmptyReturnsEmpty
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authIniN
argument_list|(
literal|""
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests  [auth.auth.ea]      */
annotation|@
name|Test
DECL|method|authAuthEa ()
specifier|public
name|void
name|authAuthEa
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authAuthEa
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton.Maxwell"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authAuthEa
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton.Maxwell.ea"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authAuthEa
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAuthEaEmptyReturnsEmpty ()
specifier|public
name|void
name|testAuthEaEmptyReturnsEmpty
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authAuthEa
argument_list|(
literal|""
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests the [auth.etal] and [authEtAl] patterns      */
annotation|@
name|Test
DECL|method|testAuthEtAl ()
specifier|public
name|void
name|testAuthEtAl
parameter_list|()
block|{
comment|// tests taken from the comments
comment|// [auth.etal]
name|String
name|delim
init|=
literal|"."
decl_stmt|;
name|String
name|append
init|=
literal|".etal"
decl_stmt|;
name|assertEquals
argument_list|(
literal|"Newton.etal"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authEtal
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_3
argument_list|,
name|delim
argument_list|,
name|append
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton.Maxwell"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authEtal
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
argument_list|,
name|delim
argument_list|,
name|append
argument_list|)
argument_list|)
expr_stmt|;
comment|// [authEtAl]
name|delim
operator|=
literal|""
expr_stmt|;
name|append
operator|=
literal|"EtAl"
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonEtAl"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authEtal
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_3
argument_list|,
name|delim
argument_list|,
name|append
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwell"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authEtal
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
argument_list|,
name|delim
argument_list|,
name|append
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Test the [authshort] pattern      */
annotation|@
name|Test
DECL|method|testAuthShort ()
specifier|public
name|void
name|testAuthShort
parameter_list|()
block|{
comment|// tests taken from the comments
name|assertEquals
argument_list|(
literal|"NME+"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authshort
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NME"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authshort
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NM"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authshort
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authshort
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testAuthShortEmptyReturnsEmpty ()
specifier|public
name|void
name|testAuthShortEmptyReturnsEmpty
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authshort
argument_list|(
literal|""
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Test the [authN_M] pattern      */
annotation|@
name|Test
DECL|method|authNM ()
specifier|public
name|void
name|authNM
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"N"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Max"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|,
literal|3
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"New"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|,
literal|3
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Bo"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|,
literal|2
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Bohr"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|,
literal|6
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Aal"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
argument_list|,
literal|3
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Less"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
argument_list|,
literal|4
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
literal|""
argument_list|,
literal|2
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|authNMThrowsNPE ()
specifier|public
name|void
name|authNMThrowsNPE
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|authNofMth
argument_list|(
literal|null
argument_list|,
literal|2
argument_list|,
literal|4
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authForeIni]      */
annotation|@
name|Test
DECL|method|firstAuthorForenameInitials ()
specifier|public
name|void
name|firstAuthorForenameInitials
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"I"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"I"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"I"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"I"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authFirstFull]      */
annotation|@
name|Test
DECL|method|firstAuthorVonAndLast ()
specifier|public
name|void
name|firstAuthorVonAndLast
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"vanderAalst"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorVonAndLast
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"vanderAalst"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorVonAndLast
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|firstAuthorVonAndLastNoVonInName ()
specifier|public
name|void
name|firstAuthorVonAndLastNoVonInName
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorVonAndLast
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstAuthorVonAndLast
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authors]      */
annotation|@
name|Test
DECL|method|testAllAuthors ()
specifier|public
name|void
name|testAllAuthors
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|allAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwell"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|allAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwellEinstein"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|allAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authorsAlpha]      */
annotation|@
name|Test
DECL|method|authorsAlpha ()
specifier|public
name|void
name|authorsAlpha
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"New"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NM"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NME"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NMEB"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NME+"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"vdAal"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"vdAvL"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|authorsAlpha
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authorLast]      */
annotation|@
name|Test
DECL|method|lastAuthor ()
specifier|public
name|void
name|lastAuthor
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Maxwell"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Einstein"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Bohr"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Unknown"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Aalst"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Lessen"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthor
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authorLastForeIni]      */
annotation|@
name|Test
DECL|method|lastAuthorForenameInitials ()
specifier|public
name|void
name|lastAuthorForenameInitials
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"I"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"J"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"A"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"N"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"H"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"W"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"T"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastAuthorForenameInitials
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [authorIni]      */
annotation|@
name|Test
DECL|method|oneAuthorPlusIni ()
specifier|public
name|void
name|oneAuthorPlusIni
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newto"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtoM"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtoME"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtoMEB"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtoMEBU"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_5
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Aalst"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"AalstL"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|oneAuthorPlusIni
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_WITH_VAN_COUNT_2
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests the [authorsN] pattern. -> [authors1]      */
annotation|@
name|Test
DECL|method|testNAuthors1 ()
specifier|public
name|void
name|testNAuthors1
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonEtAl"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonEtAl"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonEtAl"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testNAuthors1EmptyReturnEmpty ()
specifier|public
name|void
name|testNAuthors1EmptyReturnEmpty
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
literal|""
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests the [authorsN] pattern. -> [authors3]      */
annotation|@
name|Test
DECL|method|testNAuthors3 ()
specifier|public
name|void
name|testNAuthors3
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"Newton"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_1
argument_list|,
literal|3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwell"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_2
argument_list|,
literal|3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwellEinstein"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_3
argument_list|,
literal|3
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwellEinsteinEtAl"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|nAuthors
argument_list|(
name|AUTHOR_STRING_FIRSTNAME_INITIAL_LASTNAME_FULL_COUNT_4
argument_list|,
literal|3
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testFirstPage ()
specifier|public
name|void
name|testFirstPage
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"7"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|"7--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"27"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|"--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|""
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"42"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|"42--111"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"7"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|"7,41,73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"7"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|"41,7,73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"43"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|"43+"
argument_list|)
argument_list|)
expr_stmt|;
block|}
DECL|method|testFirstPageNull ()
specifier|public
name|void
name|testFirstPageNull
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|firstPage
argument_list|(
literal|null
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testPagePrefix ()
specifier|public
name|void
name|testPagePrefix
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"L"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L7--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"L--"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"L"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"L"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L42--111"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"L"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L7,L41,L73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"L"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L41,L7,L73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"L"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"L43+"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"7--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"--"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|""
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"42--111"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"7,41,73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"41,7,73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|"43+"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testPagePrefixNull ()
specifier|public
name|void
name|testPagePrefixNull
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|pagePrefix
argument_list|(
literal|null
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testLastPage ()
specifier|public
name|void
name|testLastPage
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"27"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|"7--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"27"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|"--27"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|""
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"111"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|"42--111"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"97"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|"7,41,73--97"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"97"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|"7,41,97--73"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"43"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|"43+"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testLastPageNull ()
specifier|public
name|void
name|testLastPageNull
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|lastPage
argument_list|(
literal|null
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [veryShortTitle]      */
annotation|@
name|Test
DECL|method|veryShortTitle ()
specifier|public
name|void
name|veryShortTitle
parameter_list|()
block|{
comment|// veryShortTitle is getTitleWords with "1" as count
name|int
name|count
init|=
literal|1
decl_stmt|;
name|assertEquals
argument_list|(
literal|"application"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_ALL_LOWER_FOUR_SMALL_WORDS_ONE_EN_DASH
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPEL"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_ALL_LOWER_FIRST_WORD_IN_BRACKETS_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Process"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPMN"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_ONE_UPPER_WORD_ONE_SMALL_WORD
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Difference"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AT_THE_BEGINNING
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Cloud"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Towards"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_ONE_CONNECTED_WORD
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Measurement"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_FOUR_SMALL_WORDS_TWO_CONNECTED_WORDS
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [shortTitle]      */
annotation|@
name|Test
DECL|method|shortTitle ()
specifier|public
name|void
name|shortTitle
parameter_list|()
block|{
comment|// shortTitle is getTitleWords with "3" as count and removed small words
name|int
name|count
init|=
literal|3
decl_stmt|;
name|assertEquals
argument_list|(
literal|"application migration effort"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_ALL_LOWER_FOUR_SMALL_WORDS_ONE_EN_DASH
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPEL conformance open"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_ALL_LOWER_FIRST_WORD_IN_BRACKETS_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Process Viewing Patterns"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPMN Conformance Open"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_ONE_UPPER_WORD_ONE_SMALL_WORD
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Difference Graph Based"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AT_THE_BEGINNING
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Cloud Computing: Next"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Towards Choreography based"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_ONE_CONNECTED_WORD
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Measurement Design Time"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getTitleWords
argument_list|(
name|count
argument_list|,
name|BibtexKeyGenerator
operator|.
name|removeSmallWords
argument_list|(
name|TITLE_STRING_CASED_FOUR_SMALL_WORDS_TWO_CONNECTED_WORDS
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [camel]      */
annotation|@
name|Test
DECL|method|camel ()
specifier|public
name|void
name|camel
parameter_list|()
block|{
comment|// camel capitalises and concatenates all the words of the title
name|assertEquals
argument_list|(
literal|"ApplicationMigrationEffortInTheCloudTheCaseOfCloudPlatforms"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_ALL_LOWER_FOUR_SMALL_WORDS_ONE_EN_DASH
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPELConformanceInOpenSourceEnginesTheCaseOfStaticAnalysis"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_ALL_LOWER_FIRST_WORD_IN_BRACKETS_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"ProcessViewingPatterns"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_CASED
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPMNConformanceInOpenSourceEngines"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_CASED_ONE_UPPER_WORD_ONE_SMALL_WORD
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"TheDifferenceBetweenGraphBasedAndBlockStructuredBusinessProcessModellingLanguages"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AT_THE_BEGINNING
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"CloudComputingTheNextRevolutionInIT"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"TowardsChoreographyBasedProcessDistributionInTheCloud"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_ONE_CONNECTED_WORD
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"OnTheMeasurementOfDesignTimeAdaptabilityForProcessBasedSystems"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|getCamelizedTitle
argument_list|(
name|TITLE_STRING_CASED_FOUR_SMALL_WORDS_TWO_CONNECTED_WORDS
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/**      * Tests [title]      */
annotation|@
name|Test
DECL|method|title ()
specifier|public
name|void
name|title
parameter_list|()
block|{
comment|// title capitalises the significant words of the title
comment|// for the title case the concatenation happens at formatting, which is tested in MakeLabelWithDatabaseTest.java
name|assertEquals
argument_list|(
literal|"Application Migration Effort in the Cloud the Case of Cloud Platforms"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_ALL_LOWER_FOUR_SMALL_WORDS_ONE_EN_DASH
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPEL Conformance in Open Source Engines: the Case of Static Analysis"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_ALL_LOWER_FIRST_WORD_IN_BRACKETS_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Process Viewing Patterns"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_CASED
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"BPMN Conformance in Open Source Engines"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_CASED_ONE_UPPER_WORD_ONE_SMALL_WORD
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"The Difference between Graph Based and Block Structured Business Process Modelling Languages"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AT_THE_BEGINNING
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Cloud Computing: the Next Revolution in IT"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_SMALL_WORD_AFTER_COLON
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Towards Choreography Based Process Distribution in the Cloud"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_CASED_TWO_SMALL_WORDS_ONE_CONNECTED_WORD
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"On the Measurement of Design Time Adaptability for Process Based Systems"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|camelizeSignificantWordsInTitle
argument_list|(
name|TITLE_STRING_CASED_FOUR_SMALL_WORDS_TWO_CONNECTED_WORDS
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|keywordNKeywordsSeparatedBySpace ()
specifier|public
name|void
name|keywordNKeywordsSeparatedBySpace
parameter_list|()
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"keywords"
argument_list|,
literal|"w1, w2a w2b, w3"
argument_list|)
expr_stmt|;
name|String
name|result
init|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"keyword1"
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"w1"
argument_list|,
name|result
argument_list|)
expr_stmt|;
comment|// check keywords with space
name|result
operator|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"keyword2"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"w2aw2b"
argument_list|,
name|result
argument_list|)
expr_stmt|;
comment|// check out of range
name|result
operator|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"keyword4"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|result
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|crossrefkeywordNKeywordsSeparatedBySpace ()
specifier|public
name|void
name|crossrefkeywordNKeywordsSeparatedBySpace
parameter_list|()
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
literal|"keywords"
argument_list|,
literal|"w1, w2a w2b, w3"
argument_list|)
expr_stmt|;
name|String
name|result
init|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"keyword1"
argument_list|,
name|database
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"w1"
argument_list|,
name|result
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|keywordsNKeywordsSeparatedBySpace ()
specifier|public
name|void
name|keywordsNKeywordsSeparatedBySpace
parameter_list|()
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"keywords"
argument_list|,
literal|"w1, w2a w2b, w3"
argument_list|)
expr_stmt|;
comment|// all keywords
name|String
name|result
init|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"keywords"
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"w1w2aw2bw3"
argument_list|,
name|result
argument_list|)
expr_stmt|;
comment|// check keywords with space
name|result
operator|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"keywords2"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"w1w2aw2b"
argument_list|,
name|result
argument_list|)
expr_stmt|;
comment|// check out of range
name|result
operator|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"keywords55"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"w1w2aw2bw3"
argument_list|,
name|result
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|crossrefkeywordsNKeywordsSeparatedBySpace ()
specifier|public
name|void
name|crossrefkeywordsNKeywordsSeparatedBySpace
parameter_list|()
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
literal|"keywords"
argument_list|,
literal|"w1, w2a w2b, w3"
argument_list|)
expr_stmt|;
name|String
name|result
init|=
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"keywords"
argument_list|,
name|database
argument_list|)
decl_stmt|;
name|assertEquals
argument_list|(
literal|"w1w2aw2bw3"
argument_list|,
name|result
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testCheckLegalKeyEnforceLegal ()
specifier|public
name|void
name|testCheckLegalKeyEnforceLegal
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"AAAA"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|"AA AA"
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"SPECIALCHARS"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|"SPECIAL CHARS#{\\\"}~,^"
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|"\n\t\r"
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testCheckLegalKeyDoNotEnforceLegal ()
specifier|public
name|void
name|testCheckLegalKeyDoNotEnforceLegal
parameter_list|()
block|{
name|assertEquals
argument_list|(
literal|"AAAA"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|"AA AA"
argument_list|,
literal|false
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"SPECIALCHARS#~^"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|"SPECIAL CHARS#{\\\"}~,^"
argument_list|,
literal|false
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|""
argument_list|,
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|"\n\t\r"
argument_list|,
literal|false
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testCheckLegalNullInNullOut ()
specifier|public
name|void
name|testCheckLegalNullInNullOut
parameter_list|()
block|{
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|null
argument_list|,
literal|true
argument_list|)
argument_list|)
expr_stmt|;
name|assertThrows
argument_list|(
name|NullPointerException
operator|.
name|class
argument_list|,
parameter_list|()
lambda|->
name|BibtexKeyGenerator
operator|.
name|cleanKey
argument_list|(
literal|null
argument_list|,
literal|false
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testApplyModifiers ()
specifier|public
name|void
name|testApplyModifiers
parameter_list|()
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"Green Scheduling of Whatever"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"GSo"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"shorttitleINI"
argument_list|)
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"GreenSchedulingWhatever"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"shorttitle"
argument_list|,
operator|new
name|BibDatabase
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testcrossrefShorttitle ()
specifier|public
name|void
name|testcrossrefShorttitle
parameter_list|()
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"Green Scheduling of Whatever"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"GreenSchedulingWhatever"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"shorttitle"
argument_list|,
name|database
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|testcrossrefShorttitleInitials ()
specifier|public
name|void
name|testcrossrefShorttitleInitials
parameter_list|()
block|{
name|BibDatabase
name|database
init|=
operator|new
name|BibDatabase
argument_list|()
decl_stmt|;
name|BibEntry
name|entry1
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|BibEntry
name|entry2
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry1
operator|.
name|setField
argument_list|(
name|FieldName
operator|.
name|CROSSREF
argument_list|,
literal|"entry2"
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setCiteKey
argument_list|(
literal|"entry2"
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry2
argument_list|)
expr_stmt|;
name|database
operator|.
name|insertEntry
argument_list|(
name|entry1
argument_list|)
expr_stmt|;
name|entry2
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"Green Scheduling of Whatever"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"GSo"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry1
argument_list|,
literal|"shorttitleINI"
argument_list|,
name|database
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyStripsColonFromTitle ()
specifier|public
name|void
name|generateKeyStripsColonFromTitle
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"Green Scheduling of: Whatever"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"GreenSchedulingOfWhatever"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyStripsApostropheFromTitle ()
specifier|public
name|void
name|generateKeyStripsApostropheFromTitle
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"Green Scheduling of `Whatever`"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"GreenSchedulingofWhatever"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithOneModifier ()
specifier|public
name|void
name|generateKeyWithOneModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"The Interesting Title"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"theinterestingtitle"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title:lower"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithTwoModifiers ()
specifier|public
name|void
name|generateKeyWithTwoModifiers
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"The Interesting Title"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"theinterestingtitle"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title:lower:(_)"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithTitleCapitalizeModifier ()
specifier|public
name|void
name|generateKeyWithTitleCapitalizeModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"the InTeresting title longer than THREE words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"TheInterestingTitleLongerThanThreeWords"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title:capitalize"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithShortTitleCapitalizeModifier ()
specifier|public
name|void
name|generateKeyWithShortTitleCapitalizeModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"the InTeresting title longer than THREE words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"InterestingTitleLonger"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"shorttitle:capitalize"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithTitleTitleCaseModifier ()
specifier|public
name|void
name|generateKeyWithTitleTitleCaseModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"A title WITH some of The key words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"ATitlewithSomeoftheKeyWords"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title:titlecase"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithShortTitleTitleCaseModifier ()
specifier|public
name|void
name|generateKeyWithShortTitleTitleCaseModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"the InTeresting title longer than THREE words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"InterestingTitleLonger"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"shorttitle:titlecase"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithTitleSentenceCaseModifier ()
specifier|public
name|void
name|generateKeyWithTitleSentenceCaseModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"A title WITH some of The key words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Atitlewithsomeofthekeywords"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"title:sentencecase"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithAuthUpperYearShortTitleCapitalizeModifier ()
specifier|public
name|void
name|generateKeyWithAuthUpperYearShortTitleCapitalizeModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"author"
argument_list|,
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
argument_list|)
expr_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"year"
argument_list|,
literal|"2019"
argument_list|)
expr_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"the InTeresting title longer than THREE words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NEWTON2019InterestingTitleLonger"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"[auth:upper][year][shorttitle:capitalize]"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithYearAuthUpperTitleSentenceCaseModifier ()
specifier|public
name|void
name|generateKeyWithYearAuthUpperTitleSentenceCaseModifier
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"author"
argument_list|,
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_3
argument_list|)
expr_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"year"
argument_list|,
literal|"2019"
argument_list|)
expr_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"title"
argument_list|,
literal|"the InTeresting title longer than THREE words"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"NewtonMaxwellEtAl_2019_TheInterestingTitleLongerThanThreeWords"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"[authors2]_[year]_[title:capitalize]"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|Test
DECL|method|generateKeyWithMinusInCitationStyleOutsideAField ()
specifier|public
name|void
name|generateKeyWithMinusInCitationStyleOutsideAField
parameter_list|()
throws|throws
name|Exception
block|{
name|BibEntry
name|entry
init|=
operator|new
name|BibEntry
argument_list|()
decl_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"author"
argument_list|,
name|AUTHOR_STRING_FIRSTNAME_FULL_LASTNAME_FULL_COUNT_1
argument_list|)
expr_stmt|;
name|entry
operator|.
name|setField
argument_list|(
literal|"year"
argument_list|,
literal|"2019"
argument_list|)
expr_stmt|;
name|assertEquals
argument_list|(
literal|"Newton-2019"
argument_list|,
name|BibtexKeyGenerator
operator|.
name|generateKey
argument_list|(
name|entry
argument_list|,
literal|"[auth]-[year]"
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
end_class

end_unit

