begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_package
DECL|package|org.jabref.preferences
package|package
name|org
operator|.
name|jabref
operator|.
name|preferences
package|;
end_package

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|Globals
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|citationstyle
operator|.
name|PreviewLayout
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|citationstyle
operator|.
name|TextBasedPreviewLayout
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|layout
operator|.
name|LayoutFormatterPreferences
import|;
end_import

begin_class
DECL|class|PreviewPreferences
specifier|public
class|class
name|PreviewPreferences
block|{
DECL|field|previewCycle
specifier|private
specifier|final
name|List
argument_list|<
name|PreviewLayout
argument_list|>
name|previewCycle
decl_stmt|;
DECL|field|previewCyclePosition
specifier|private
specifier|final
name|int
name|previewCyclePosition
decl_stmt|;
DECL|field|previewPanelDividerPosition
specifier|private
specifier|final
name|Number
name|previewPanelDividerPosition
decl_stmt|;
DECL|field|previewPanelEnabled
specifier|private
specifier|final
name|boolean
name|previewPanelEnabled
decl_stmt|;
DECL|field|previewStyle
specifier|private
specifier|final
name|String
name|previewStyle
decl_stmt|;
DECL|field|previewStyleDefault
specifier|private
specifier|final
name|String
name|previewStyleDefault
decl_stmt|;
DECL|method|PreviewPreferences (List<PreviewLayout> previewCycle, int previewCyclePosition, Number previewPanelDividerPosition, boolean previewPanelEnabled, String previewStyle, String previewStyleDefault)
specifier|public
name|PreviewPreferences
parameter_list|(
name|List
argument_list|<
name|PreviewLayout
argument_list|>
name|previewCycle
parameter_list|,
name|int
name|previewCyclePosition
parameter_list|,
name|Number
name|previewPanelDividerPosition
parameter_list|,
name|boolean
name|previewPanelEnabled
parameter_list|,
name|String
name|previewStyle
parameter_list|,
name|String
name|previewStyleDefault
parameter_list|)
block|{
name|this
operator|.
name|previewCycle
operator|=
name|previewCycle
expr_stmt|;
name|this
operator|.
name|previewCyclePosition
operator|=
name|previewCyclePosition
expr_stmt|;
name|this
operator|.
name|previewPanelDividerPosition
operator|=
name|previewPanelDividerPosition
expr_stmt|;
name|this
operator|.
name|previewPanelEnabled
operator|=
name|previewPanelEnabled
expr_stmt|;
name|this
operator|.
name|previewStyle
operator|=
name|previewStyle
expr_stmt|;
name|this
operator|.
name|previewStyleDefault
operator|=
name|previewStyleDefault
expr_stmt|;
block|}
DECL|method|getPreviewCycle ()
specifier|public
name|List
argument_list|<
name|PreviewLayout
argument_list|>
name|getPreviewCycle
parameter_list|()
block|{
return|return
name|previewCycle
return|;
block|}
DECL|method|getPreviewCyclePosition ()
specifier|public
name|int
name|getPreviewCyclePosition
parameter_list|()
block|{
return|return
name|previewCyclePosition
return|;
block|}
DECL|method|getPreviewPanelDividerPosition ()
specifier|public
name|Number
name|getPreviewPanelDividerPosition
parameter_list|()
block|{
return|return
name|previewPanelDividerPosition
return|;
block|}
DECL|method|isPreviewPanelEnabled ()
specifier|public
name|boolean
name|isPreviewPanelEnabled
parameter_list|()
block|{
return|return
name|previewPanelEnabled
return|;
block|}
DECL|method|getPreviewStyle ()
specifier|public
name|String
name|getPreviewStyle
parameter_list|()
block|{
return|return
name|previewStyle
return|;
block|}
DECL|method|getDefaultPreviewStyle ()
specifier|public
name|String
name|getDefaultPreviewStyle
parameter_list|()
block|{
return|return
name|previewStyleDefault
return|;
block|}
DECL|method|getBuilder ()
specifier|public
name|Builder
name|getBuilder
parameter_list|()
block|{
return|return
operator|new
name|Builder
argument_list|(
name|this
argument_list|)
return|;
block|}
DECL|method|getCurrentPreviewStyle ()
specifier|public
name|PreviewLayout
name|getCurrentPreviewStyle
parameter_list|()
block|{
return|return
name|getPreviewCycle
argument_list|()
operator|.
name|get
argument_list|(
name|getPreviewCyclePosition
argument_list|()
argument_list|)
return|;
block|}
DECL|method|getLayoutFormatterPreferences ()
specifier|public
name|LayoutFormatterPreferences
name|getLayoutFormatterPreferences
parameter_list|()
block|{
return|return
name|Globals
operator|.
name|prefs
operator|.
name|getLayoutFormatterPreferences
argument_list|(
name|Globals
operator|.
name|journalAbbreviationLoader
argument_list|)
return|;
block|}
DECL|method|getTextBasedPreviewLayout ()
specifier|public
name|PreviewLayout
name|getTextBasedPreviewLayout
parameter_list|()
block|{
return|return
operator|new
name|TextBasedPreviewLayout
argument_list|(
name|getPreviewStyle
argument_list|()
argument_list|,
name|getLayoutFormatterPreferences
argument_list|()
argument_list|)
return|;
block|}
DECL|class|Builder
specifier|public
specifier|static
class|class
name|Builder
block|{
DECL|field|previewCycle
specifier|private
name|List
argument_list|<
name|PreviewLayout
argument_list|>
name|previewCycle
decl_stmt|;
DECL|field|previewCyclePosition
specifier|private
name|int
name|previewCyclePosition
decl_stmt|;
DECL|field|previewPanelDividerPosition
specifier|private
name|Number
name|previewPanelDividerPosition
decl_stmt|;
DECL|field|previewPanelEnabled
specifier|private
name|boolean
name|previewPanelEnabled
decl_stmt|;
DECL|field|previewStyle
specifier|private
name|String
name|previewStyle
decl_stmt|;
DECL|field|previewStyleDefault
specifier|private
specifier|final
name|String
name|previewStyleDefault
decl_stmt|;
DECL|method|Builder (PreviewPreferences previewPreferences)
specifier|public
name|Builder
parameter_list|(
name|PreviewPreferences
name|previewPreferences
parameter_list|)
block|{
name|this
operator|.
name|previewCycle
operator|=
name|previewPreferences
operator|.
name|getPreviewCycle
argument_list|()
expr_stmt|;
name|this
operator|.
name|previewCyclePosition
operator|=
name|previewPreferences
operator|.
name|getPreviewCyclePosition
argument_list|()
expr_stmt|;
name|this
operator|.
name|previewPanelDividerPosition
operator|=
name|previewPreferences
operator|.
name|getPreviewPanelDividerPosition
argument_list|()
expr_stmt|;
name|this
operator|.
name|previewPanelEnabled
operator|=
name|previewPreferences
operator|.
name|isPreviewPanelEnabled
argument_list|()
expr_stmt|;
name|this
operator|.
name|previewStyle
operator|=
name|previewPreferences
operator|.
name|getPreviewStyle
argument_list|()
expr_stmt|;
name|this
operator|.
name|previewStyleDefault
operator|=
name|previewPreferences
operator|.
name|getDefaultPreviewStyle
argument_list|()
expr_stmt|;
block|}
DECL|method|withPreviewCycle (List<PreviewLayout> previewCycle)
specifier|public
name|Builder
name|withPreviewCycle
parameter_list|(
name|List
argument_list|<
name|PreviewLayout
argument_list|>
name|previewCycle
parameter_list|)
block|{
name|this
operator|.
name|previewCycle
operator|=
name|previewCycle
expr_stmt|;
return|return
name|withPreviewCyclePosition
argument_list|(
name|previewCyclePosition
argument_list|)
return|;
block|}
DECL|method|withPreviewCyclePosition (int position)
specifier|public
name|Builder
name|withPreviewCyclePosition
parameter_list|(
name|int
name|position
parameter_list|)
block|{
if|if
condition|(
name|previewCycle
operator|.
name|isEmpty
argument_list|()
condition|)
block|{
name|previewCyclePosition
operator|=
literal|0
expr_stmt|;
block|}
else|else
block|{
name|previewCyclePosition
operator|=
name|position
expr_stmt|;
while|while
condition|(
name|previewCyclePosition
operator|<
literal|0
condition|)
block|{
name|previewCyclePosition
operator|+=
name|previewCycle
operator|.
name|size
argument_list|()
expr_stmt|;
block|}
name|previewCyclePosition
operator|%=
name|previewCycle
operator|.
name|size
argument_list|()
expr_stmt|;
block|}
return|return
name|this
return|;
block|}
DECL|method|withPreviewPanelDividerPosition (Number previewPanelDividerPosition)
specifier|public
name|Builder
name|withPreviewPanelDividerPosition
parameter_list|(
name|Number
name|previewPanelDividerPosition
parameter_list|)
block|{
name|this
operator|.
name|previewPanelDividerPosition
operator|=
name|previewPanelDividerPosition
expr_stmt|;
return|return
name|this
return|;
block|}
DECL|method|withPreviewPanelEnabled (boolean previewPanelEnabled)
specifier|public
name|Builder
name|withPreviewPanelEnabled
parameter_list|(
name|boolean
name|previewPanelEnabled
parameter_list|)
block|{
name|this
operator|.
name|previewPanelEnabled
operator|=
name|previewPanelEnabled
expr_stmt|;
return|return
name|this
return|;
block|}
DECL|method|withPreviewStyle (String previewStyle)
specifier|public
name|Builder
name|withPreviewStyle
parameter_list|(
name|String
name|previewStyle
parameter_list|)
block|{
name|this
operator|.
name|previewStyle
operator|=
name|previewStyle
expr_stmt|;
return|return
name|this
return|;
block|}
DECL|method|build ()
specifier|public
name|PreviewPreferences
name|build
parameter_list|()
block|{
return|return
operator|new
name|PreviewPreferences
argument_list|(
name|previewCycle
argument_list|,
name|previewCyclePosition
argument_list|,
name|previewPanelDividerPosition
argument_list|,
name|previewPanelEnabled
argument_list|,
name|previewStyle
argument_list|,
name|previewStyleDefault
argument_list|)
return|;
block|}
block|}
block|}
end_class

end_unit

