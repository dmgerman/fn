begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_package
DECL|package|org.jabref.gui.preferences
package|package
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|preferences
package|;
end_package

begin_import
import|import
name|java
operator|.
name|nio
operator|.
name|charset
operator|.
name|Charset
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|application
operator|.
name|Platform
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|fxml
operator|.
name|FXML
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|control
operator|.
name|Button
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|control
operator|.
name|CheckBox
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|control
operator|.
name|ComboBox
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|control
operator|.
name|Label
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|control
operator|.
name|TextField
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|Globals
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|actions
operator|.
name|ActionFactory
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|actions
operator|.
name|StandardActions
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|help
operator|.
name|HelpAction
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|util
operator|.
name|IconValidationDecorator
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|help
operator|.
name|HelpFile
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|l10n
operator|.
name|Language
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|l10n
operator|.
name|Localization
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|database
operator|.
name|BibDatabaseMode
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|preferences
operator|.
name|JabRefPreferences
import|;
end_import

begin_import
import|import
name|com
operator|.
name|airhacks
operator|.
name|afterburner
operator|.
name|views
operator|.
name|ViewLoader
import|;
end_import

begin_import
import|import
name|de
operator|.
name|saxsys
operator|.
name|mvvmfx
operator|.
name|utils
operator|.
name|validation
operator|.
name|visualization
operator|.
name|ControlsFxVisualizer
import|;
end_import

begin_class
DECL|class|GeneralTabView
specifier|public
class|class
name|GeneralTabView
extends|extends
name|AbstractPreferenceTabView
implements|implements
name|PreferencesTab
block|{
DECL|field|language
annotation|@
name|FXML
specifier|private
name|ComboBox
argument_list|<
name|Language
argument_list|>
name|language
decl_stmt|;
DECL|field|defaultEncoding
annotation|@
name|FXML
specifier|private
name|ComboBox
argument_list|<
name|Charset
argument_list|>
name|defaultEncoding
decl_stmt|;
DECL|field|biblatexMode
annotation|@
name|FXML
specifier|private
name|ComboBox
argument_list|<
name|BibDatabaseMode
argument_list|>
name|biblatexMode
decl_stmt|;
DECL|field|inspectionWarningDuplicate
annotation|@
name|FXML
specifier|private
name|CheckBox
name|inspectionWarningDuplicate
decl_stmt|;
DECL|field|confirmDelete
annotation|@
name|FXML
specifier|private
name|CheckBox
name|confirmDelete
decl_stmt|;
DECL|field|enforceLegalKeys
annotation|@
name|FXML
specifier|private
name|CheckBox
name|enforceLegalKeys
decl_stmt|;
DECL|field|allowIntegerEdition
annotation|@
name|FXML
specifier|private
name|CheckBox
name|allowIntegerEdition
decl_stmt|;
DECL|field|memoryStickMode
annotation|@
name|FXML
specifier|private
name|CheckBox
name|memoryStickMode
decl_stmt|;
DECL|field|collectTelemetry
annotation|@
name|FXML
specifier|private
name|CheckBox
name|collectTelemetry
decl_stmt|;
DECL|field|showAdvancedHints
annotation|@
name|FXML
specifier|private
name|CheckBox
name|showAdvancedHints
decl_stmt|;
DECL|field|markOwner
annotation|@
name|FXML
specifier|private
name|CheckBox
name|markOwner
decl_stmt|;
DECL|field|markOwnerName
annotation|@
name|FXML
specifier|private
name|TextField
name|markOwnerName
decl_stmt|;
DECL|field|markOwnerOverwrite
annotation|@
name|FXML
specifier|private
name|CheckBox
name|markOwnerOverwrite
decl_stmt|;
DECL|field|markOwnerHelp
annotation|@
name|FXML
specifier|private
name|Button
name|markOwnerHelp
decl_stmt|;
DECL|field|markTimestamp
annotation|@
name|FXML
specifier|private
name|CheckBox
name|markTimestamp
decl_stmt|;
DECL|field|markTimeStampFormat
annotation|@
name|FXML
specifier|private
name|TextField
name|markTimeStampFormat
decl_stmt|;
DECL|field|markTimeStampFormatLabel
annotation|@
name|FXML
specifier|private
name|Label
name|markTimeStampFormatLabel
decl_stmt|;
DECL|field|markTimeStampOverwrite
annotation|@
name|FXML
specifier|private
name|CheckBox
name|markTimeStampOverwrite
decl_stmt|;
DECL|field|markTimeStampFieldName
annotation|@
name|FXML
specifier|private
name|TextField
name|markTimeStampFieldName
decl_stmt|;
DECL|field|markTimeStampFieldNameLabel
annotation|@
name|FXML
specifier|private
name|Label
name|markTimeStampFieldNameLabel
decl_stmt|;
DECL|field|markTimeStampHelp
annotation|@
name|FXML
specifier|private
name|Button
name|markTimeStampHelp
decl_stmt|;
DECL|field|updateTimeStamp
annotation|@
name|FXML
specifier|private
name|CheckBox
name|updateTimeStamp
decl_stmt|;
DECL|field|validationVisualizer
specifier|private
specifier|final
name|ControlsFxVisualizer
name|validationVisualizer
init|=
operator|new
name|ControlsFxVisualizer
argument_list|()
decl_stmt|;
DECL|method|GeneralTabView (JabRefPreferences preferences)
specifier|public
name|GeneralTabView
parameter_list|(
name|JabRefPreferences
name|preferences
parameter_list|)
block|{
name|this
operator|.
name|preferences
operator|=
name|preferences
expr_stmt|;
name|ViewLoader
operator|.
name|view
argument_list|(
name|this
argument_list|)
operator|.
name|root
argument_list|(
name|this
argument_list|)
operator|.
name|load
argument_list|()
expr_stmt|;
block|}
annotation|@
name|Override
DECL|method|getTabName ()
specifier|public
name|String
name|getTabName
parameter_list|()
block|{
return|return
name|Localization
operator|.
name|lang
argument_list|(
literal|"General"
argument_list|)
return|;
block|}
DECL|method|initialize ()
specifier|public
name|void
name|initialize
parameter_list|()
block|{
name|GeneralTabViewModel
name|generalTabViewModel
init|=
operator|new
name|GeneralTabViewModel
argument_list|(
name|dialogService
argument_list|,
name|preferences
argument_list|)
decl_stmt|;
name|this
operator|.
name|viewModel
operator|=
name|generalTabViewModel
expr_stmt|;
name|language
operator|.
name|itemsProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|generalTabViewModel
operator|.
name|languagesListProperty
argument_list|()
argument_list|)
expr_stmt|;
name|language
operator|.
name|valueProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|selectedLanguageProperty
argument_list|()
argument_list|)
expr_stmt|;
name|defaultEncoding
operator|.
name|itemsProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|generalTabViewModel
operator|.
name|encodingsListProperty
argument_list|()
argument_list|)
expr_stmt|;
name|defaultEncoding
operator|.
name|valueProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|selectedEncodingProperty
argument_list|()
argument_list|)
expr_stmt|;
name|biblatexMode
operator|.
name|itemsProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|generalTabViewModel
operator|.
name|biblatexModeListProperty
argument_list|()
argument_list|)
expr_stmt|;
name|biblatexMode
operator|.
name|valueProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|selectedBiblatexModeProperty
argument_list|()
argument_list|)
expr_stmt|;
name|inspectionWarningDuplicate
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|inspectionWarningDuplicateProperty
argument_list|()
argument_list|)
expr_stmt|;
name|confirmDelete
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|confirmDeleteProperty
argument_list|()
argument_list|)
expr_stmt|;
name|enforceLegalKeys
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|enforceLegalKeysProperty
argument_list|()
argument_list|)
expr_stmt|;
name|allowIntegerEdition
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|allowIntegerEditionProperty
argument_list|()
argument_list|)
expr_stmt|;
name|memoryStickMode
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|memoryStickModeProperty
argument_list|()
argument_list|)
expr_stmt|;
name|collectTelemetry
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|collectTelemetryProperty
argument_list|()
argument_list|)
expr_stmt|;
name|showAdvancedHints
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|showAdvancedHintsProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markOwner
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markOwnerProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markOwnerName
operator|.
name|textProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markOwnerNameProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markOwnerName
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markOwner
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|markOwnerOverwrite
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markOwnerOverwriteProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markOwnerOverwrite
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markOwner
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|markTimestamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markTimestampProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampFormatLabel
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markTimestamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampFormat
operator|.
name|textProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markTimeStampFormatProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampFormat
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markTimestamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampOverwrite
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markTimeStampOverwriteProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampOverwrite
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markTimestamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampFieldNameLabel
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markTimestamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampFieldName
operator|.
name|textProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|markTimeStampFieldNameProperty
argument_list|()
argument_list|)
expr_stmt|;
name|markTimeStampFieldName
operator|.
name|disableProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|markTimestamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|not
argument_list|()
argument_list|)
expr_stmt|;
name|updateTimeStamp
operator|.
name|selectedProperty
argument_list|()
operator|.
name|bindBidirectional
argument_list|(
name|generalTabViewModel
operator|.
name|updateTimeStampProperty
argument_list|()
argument_list|)
expr_stmt|;
name|ActionFactory
name|actionFactory
init|=
operator|new
name|ActionFactory
argument_list|(
name|Globals
operator|.
name|getKeyPrefs
argument_list|()
argument_list|)
decl_stmt|;
name|actionFactory
operator|.
name|configureIconButton
argument_list|(
name|StandardActions
operator|.
name|HELP
argument_list|,
operator|new
name|HelpAction
argument_list|(
name|HelpFile
operator|.
name|OWNER
argument_list|)
argument_list|,
name|markOwnerHelp
argument_list|)
expr_stmt|;
name|actionFactory
operator|.
name|configureIconButton
argument_list|(
name|StandardActions
operator|.
name|HELP
argument_list|,
operator|new
name|HelpAction
argument_list|(
name|HelpFile
operator|.
name|TIMESTAMP
argument_list|)
argument_list|,
name|markTimeStampHelp
argument_list|)
expr_stmt|;
name|validationVisualizer
operator|.
name|setDecoration
argument_list|(
operator|new
name|IconValidationDecorator
argument_list|()
argument_list|)
expr_stmt|;
name|Platform
operator|.
name|runLater
argument_list|(
parameter_list|()
lambda|->
name|validationVisualizer
operator|.
name|initVisualization
argument_list|(
name|generalTabViewModel
operator|.
name|markTimeStampFormatValidationStatus
argument_list|()
argument_list|,
name|markTimeStampFormat
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
end_class

end_unit

