begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_package
DECL|package|org.jabref.gui.importer
package|package
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|importer
package|;
end_package

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|beans
operator|.
name|binding
operator|.
name|Bindings
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|fxml
operator|.
name|FXML
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|control
operator|.
name|ButtonType
import|;
end_import

begin_import
import|import
name|javafx
operator|.
name|scene
operator|.
name|layout
operator|.
name|VBox
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|gui
operator|.
name|util
operator|.
name|BaseDialog
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|l10n
operator|.
name|Localization
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|database
operator|.
name|BibDatabaseMode
import|;
end_import

begin_import
import|import
name|org
operator|.
name|jabref
operator|.
name|model
operator|.
name|entry
operator|.
name|EntryType
import|;
end_import

begin_import
import|import
name|com
operator|.
name|airhacks
operator|.
name|afterburner
operator|.
name|views
operator|.
name|ViewLoader
import|;
end_import

begin_import
import|import
name|org
operator|.
name|controlsfx
operator|.
name|control
operator|.
name|CheckListView
import|;
end_import

begin_class
DECL|class|ImportCustomEntryTypesDialog
specifier|public
class|class
name|ImportCustomEntryTypesDialog
extends|extends
name|BaseDialog
argument_list|<
name|Void
argument_list|>
block|{
DECL|field|unknownEntryTypesCheckList
annotation|@
name|FXML
specifier|private
name|CheckListView
argument_list|<
name|EntryType
argument_list|>
name|unknownEntryTypesCheckList
decl_stmt|;
DECL|field|boxDifferentCustomization
annotation|@
name|FXML
specifier|private
name|VBox
name|boxDifferentCustomization
decl_stmt|;
DECL|field|differentCustomizationCheckList
annotation|@
name|FXML
specifier|private
name|CheckListView
argument_list|<
name|EntryType
argument_list|>
name|differentCustomizationCheckList
decl_stmt|;
DECL|field|viewModel
specifier|private
name|ImportCustomEntryTypesDialogViewModel
name|viewModel
decl_stmt|;
DECL|field|mode
specifier|private
specifier|final
name|BibDatabaseMode
name|mode
decl_stmt|;
DECL|field|customEntryTypes
specifier|private
specifier|final
name|List
argument_list|<
name|EntryType
argument_list|>
name|customEntryTypes
decl_stmt|;
DECL|method|ImportCustomEntryTypesDialog (BibDatabaseMode mode, List<EntryType> customEntryTypes)
specifier|public
name|ImportCustomEntryTypesDialog
parameter_list|(
name|BibDatabaseMode
name|mode
parameter_list|,
name|List
argument_list|<
name|EntryType
argument_list|>
name|customEntryTypes
parameter_list|)
block|{
name|this
operator|.
name|mode
operator|=
name|mode
expr_stmt|;
name|this
operator|.
name|customEntryTypes
operator|=
name|customEntryTypes
expr_stmt|;
name|ViewLoader
operator|.
name|view
argument_list|(
name|this
argument_list|)
operator|.
name|load
argument_list|()
operator|.
name|setAsDialogPane
argument_list|(
name|this
argument_list|)
expr_stmt|;
name|setResultConverter
argument_list|(
name|btn
lambda|->
block|{
if|if
condition|(
name|btn
operator|==
name|ButtonType
operator|.
name|OK
condition|)
block|{
name|viewModel
operator|.
name|importCustomEntryTypes
argument_list|(
name|unknownEntryTypesCheckList
operator|.
name|getCheckModel
argument_list|()
operator|.
name|getCheckedItems
argument_list|()
argument_list|,
name|differentCustomizationCheckList
operator|.
name|getCheckModel
argument_list|()
operator|.
name|getCheckedItems
argument_list|()
argument_list|)
expr_stmt|;
block|}
return|return
literal|null
return|;
block|}
argument_list|)
expr_stmt|;
name|setTitle
argument_list|(
name|Localization
operator|.
name|lang
argument_list|(
literal|"Custom entry types"
argument_list|)
argument_list|)
expr_stmt|;
block|}
annotation|@
name|FXML
DECL|method|initialize ()
specifier|public
name|void
name|initialize
parameter_list|()
block|{
name|viewModel
operator|=
operator|new
name|ImportCustomEntryTypesDialogViewModel
argument_list|(
name|mode
argument_list|,
name|customEntryTypes
argument_list|)
expr_stmt|;
name|boxDifferentCustomization
operator|.
name|managedProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|Bindings
operator|.
name|isNotEmpty
argument_list|(
name|viewModel
operator|.
name|differentCustomizationsProperty
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
name|unknownEntryTypesCheckList
operator|.
name|itemsProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|viewModel
operator|.
name|newTypesProperty
argument_list|()
argument_list|)
expr_stmt|;
name|differentCustomizationCheckList
operator|.
name|itemsProperty
argument_list|()
operator|.
name|bind
argument_list|(
name|viewModel
operator|.
name|differentCustomizationsProperty
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
end_class

end_unit

