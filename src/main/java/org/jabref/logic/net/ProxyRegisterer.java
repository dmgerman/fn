begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_package
DECL|package|org.jabref.logic.net
package|package
name|org
operator|.
name|jabref
operator|.
name|logic
operator|.
name|net
package|;
end_package

begin_class
DECL|class|ProxyRegisterer
specifier|public
class|class
name|ProxyRegisterer
block|{
DECL|method|ProxyRegisterer ()
specifier|private
name|ProxyRegisterer
parameter_list|()
block|{     }
DECL|method|register (ProxyPreferences proxyPrefs)
specifier|public
specifier|static
name|void
name|register
parameter_list|(
name|ProxyPreferences
name|proxyPrefs
parameter_list|)
block|{
if|if
condition|(
name|proxyPrefs
operator|.
name|isUseProxy
argument_list|()
condition|)
block|{
comment|// NetworkTab.java ensures that proxyHostname and proxyPort are not null
name|System
operator|.
name|setProperty
argument_list|(
literal|"http.proxyHost"
argument_list|,
name|proxyPrefs
operator|.
name|getHostname
argument_list|()
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"http.proxyPort"
argument_list|,
name|proxyPrefs
operator|.
name|getPort
argument_list|()
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"https.proxyHost"
argument_list|,
name|proxyPrefs
operator|.
name|getHostname
argument_list|()
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"https.proxyPort"
argument_list|,
name|proxyPrefs
operator|.
name|getPort
argument_list|()
argument_list|)
expr_stmt|;
comment|// NetworkTab.java ensures that proxyUsername and proxyPassword are neither null nor empty
if|if
condition|(
name|proxyPrefs
operator|.
name|isUseAuthentication
argument_list|()
condition|)
block|{
name|System
operator|.
name|setProperty
argument_list|(
literal|"http.proxyUser"
argument_list|,
name|proxyPrefs
operator|.
name|getUsername
argument_list|()
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"http.proxyPassword"
argument_list|,
name|proxyPrefs
operator|.
name|getPassword
argument_list|()
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"https.proxyUser"
argument_list|,
name|proxyPrefs
operator|.
name|getUsername
argument_list|()
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"https.proxyPassword"
argument_list|,
name|proxyPrefs
operator|.
name|getPassword
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
else|else
block|{
comment|// The following two lines signal that the system proxy settings
comment|// should be used:
name|System
operator|.
name|setProperty
argument_list|(
literal|"java.net.useSystemProxies"
argument_list|,
literal|"true"
argument_list|)
expr_stmt|;
name|System
operator|.
name|setProperty
argument_list|(
literal|"proxySet"
argument_list|,
literal|"true"
argument_list|)
expr_stmt|;
block|}
block|}
block|}
end_class

end_unit

