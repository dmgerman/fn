begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_package
DECL|package|net.sf.jabref.logic.util.date
package|package
name|net
operator|.
name|sf
operator|.
name|jabref
operator|.
name|logic
operator|.
name|util
operator|.
name|date
package|;
end_package

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Optional
import|;
end_import

begin_import
import|import
name|net
operator|.
name|sf
operator|.
name|jabref
operator|.
name|logic
operator|.
name|util
operator|.
name|UpdateField
import|;
end_import

begin_import
import|import
name|net
operator|.
name|sf
operator|.
name|jabref
operator|.
name|model
operator|.
name|FieldChange
import|;
end_import

begin_import
import|import
name|net
operator|.
name|sf
operator|.
name|jabref
operator|.
name|model
operator|.
name|entry
operator|.
name|BibEntry
import|;
end_import

begin_import
import|import
name|net
operator|.
name|sf
operator|.
name|jabref
operator|.
name|preferences
operator|.
name|JabRefPreferences
import|;
end_import

begin_class
DECL|class|TimeStamp
specifier|public
class|class
name|TimeStamp
block|{
DECL|method|updateTimeStampIsSet (JabRefPreferences prefs)
specifier|public
specifier|static
name|boolean
name|updateTimeStampIsSet
parameter_list|(
name|JabRefPreferences
name|prefs
parameter_list|)
block|{
return|return
name|prefs
operator|.
name|getBoolean
argument_list|(
name|JabRefPreferences
operator|.
name|USE_TIME_STAMP
argument_list|)
operator|&&
name|prefs
operator|.
name|getBoolean
argument_list|(
name|JabRefPreferences
operator|.
name|UPDATE_TIMESTAMP
argument_list|)
return|;
block|}
comment|/**      * Updates the timestamp of the given entry and returns the FieldChange      */
DECL|method|doUpdateTimeStamp (BibEntry entry, JabRefPreferences prefs)
specifier|public
specifier|static
name|Optional
argument_list|<
name|FieldChange
argument_list|>
name|doUpdateTimeStamp
parameter_list|(
name|BibEntry
name|entry
parameter_list|,
name|JabRefPreferences
name|prefs
parameter_list|)
block|{
name|String
name|timeStampField
init|=
name|prefs
operator|.
name|get
argument_list|(
name|JabRefPreferences
operator|.
name|TIME_STAMP_FIELD
argument_list|)
decl_stmt|;
name|String
name|timestamp
init|=
name|EasyDateFormat
operator|.
name|fromPreferences
argument_list|(
name|prefs
argument_list|)
operator|.
name|getCurrentDate
argument_list|()
decl_stmt|;
return|return
name|UpdateField
operator|.
name|updateField
argument_list|(
name|entry
argument_list|,
name|timeStampField
argument_list|,
name|timestamp
argument_list|)
return|;
block|}
block|}
end_class

end_unit

